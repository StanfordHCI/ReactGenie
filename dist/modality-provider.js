"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalityProvider = exports.ListenerStateEnum = exports.GenieInterpreter = void 0;
var _react = _interopRequireWildcard(require("react"));
var _reactRedux = require("react-redux");
var _native = require("@react-navigation/native");
var _stack = require("@react-navigation/stack");
var _speechRecognition = require("./speech-recognition");
var _core = require("@react-native-material/core");
var _reactgenieDsl = require("reactgenie-dsl");
var _reactDecorators = require("./react-decorators");
var _sharedStore = require("./shared-store");
var _reactNative = require("react-native");
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
const Stack = (0, _stack.createStackNavigator)();
let GenieInterpreter;
exports.GenieInterpreter = GenieInterpreter;
const DefaultScreen = children => ({
  navigation
}) => {
  (0, _react.useEffect)(() => {
    navigation.setOptions({
      headerShown: false
    });
  }, []);
  return children;
};
const ObjectInterfaceScreen = genieInterfaceStoreElement => ({
  route,
  navigation
}) => {
  const title = genieInterfaceStoreElement.title(route.params);
  (0, _react.useEffect)(() => {
    navigation.setOptions({
      headerShown: true
    });
    navigation.setOptions({
      title: title
    });
  }, []);
  return /*#__PURE__*/_react.default.createElement(genieInterfaceStoreElement.function, route.params);
};
const cardStyle = {
  presentation: "card",
  animationEnabled: true,
  headerStyleInterpolator: _stack.HeaderStyleInterpolators.forUIKit,
  cardStyleInterpolator: _stack.CardStyleInterpolators.forHorizontalIOS
};
let ListenerStateEnum = /*#__PURE__*/function (ListenerStateEnum) {
  ListenerStateEnum[ListenerStateEnum["Idle"] = 0] = "Idle";
  ListenerStateEnum[ListenerStateEnum["Listening"] = 1] = "Listening";
  ListenerStateEnum[ListenerStateEnum["Processing"] = 2] = "Processing";
  return ListenerStateEnum;
}({}); // Done,
exports.ListenerStateEnum = ListenerStateEnum;
const ModalityProvider = props => {
  const examples = (0, _sharedStore.useGenieSelector)(() => {
    if (props.examples === undefined) {
      return _reactgenieDsl.sharedState["__EXAMPLES__"];
    } else {
      return props.examples.concat(_reactgenieDsl.sharedState["__EXAMPLES__"]);
    }
  });
  const navState = (0, _reactRedux.useSelector)(state => {
    return state.navState;
  });
  const navStack = (0, _reactRedux.useSelector)(state => {
    return state.navStack;
  });
  const voiceMessage = (0, _reactRedux.useSelector)(state => {
    return state.message;
  });
  const [snackbarVisible, setSnackbarVisible] = (0, _react.useState)(false);
  (0, _react.useEffect)(() => {
    if (voiceMessage !== null && voiceMessage !== undefined && voiceMessage.message != "") {
      setSnackbarVisible(true);
      setTimeout(() => {
        setSnackbarVisible(false);
      }, 3000);
    }
  }, [voiceMessage]);
  exports.GenieInterpreter = GenieInterpreter = (0, _react.useMemo)(() => {
    const descriptors = [];
    for (const key in _reactDecorators.AllGenieObjects) {
      descriptors.push(_reactDecorators.AllGenieObjects[key].ClassDescriptor);
    }
    return new _reactgenieDsl.NlInterpreter(descriptors, props.codexApiKey, undefined, examples, props.extraPrompt, props.codexApiBaseUrl);
  }, [props.codexApiKey, examples]);

  //create ref to NavigationContainer with type
  const navigationRef = (0, _native.useNavigationContainerRef)();
  (0, _react.useEffect)(() => {
    console.log("nav state changed", navState);
    if (navState.objectViewClassName !== null) {
      navigationRef.dispatch(_native.StackActions.push(navState.objectViewClassName, navState.objectConstructorParams));
    }
  }, [navStack]);
  const uiList = (0, _react.useMemo)(() => {
    const uiList = [];
    const allInterfaces = _reactDecorators.AllGenieObjectInterfaces.allInterfaces();
    for (const key in allInterfaces) {
      const interfacesStoreElement = allInterfaces[key];
      uiList.push( /*#__PURE__*/_react.default.createElement(Stack.Screen, {
        key: key,
        name: key,
        component: ObjectInterfaceScreen(interfacesStoreElement),
        options: cardStyle
      }));
    }
    return uiList;
  }, []);
  const gui = (0, _react.useMemo)(() => /*#__PURE__*/_react.default.createElement(_native.NavigationContainer, {
    ref: navigationRef
  }, /*#__PURE__*/_react.default.createElement(Stack.Navigator, {
    initialRouteName: "Default GUI"
  }, /*#__PURE__*/_react.default.createElement(Stack.Screen, {
    name: "Default GUI",
    key: "Default GUI",
    component: DefaultScreen(props.children),
    options: cardStyle
  }), uiList)), []);
  const [listenerState, setListenerState] = (0, _react.useState)(ListenerStateEnum.Idle);
  const [shouldListen, setShouldListen] = (0, _react.useState)(false);
  const [transcript, setTranscript] = (0, _react.useState)("");
  const [interimTranscript, setInterimTranscript] = (0, _react.useState)("");
  const [mouseDown, setMouseDown] = (0, _react.useState)(false);
  (0, _react.useEffect)(() => {
    console.log("listener state changed", listenerState);
    setShouldListen(listenerState === ListenerStateEnum.Listening);
  }, [listenerState]);
  const handleClick = event => {
    if (listenerState === ListenerStateEnum.Listening) {
      const x = event.clientX;
      const y = event.clientY;
      console.log(`Click position: (${x}, ${y})`);
      _reactDecorators.ClickPoints.push({
        x: x,
        y: y
      });
    }
    setMouseDown(false);
  };
  const handleDown = () => {
    setMouseDown(true);
  };
  const speechStatusCallback = (status, interimTranscript) => {
    if (listenerState === ListenerStateEnum.Listening) {
      console.log(`Speech status: ${status}`);
      if (status == true) {
        console.log(`Interim transcript: ${interimTranscript}`);
        setInterimTranscript(interimTranscript);
      }
    }
  };
  const speechResultCallback = finalTranscript => {
    if (listenerState === ListenerStateEnum.Listening) {
      console.log(`Final transcript: ${finalTranscript}`);
      setInterimTranscript(finalTranscript);
      setTranscript(finalTranscript);
    }
  };
  let lastTranscript = "";
  (0, _react.useEffect)(() => {
    if (transcript !== "" && listenerState === ListenerStateEnum.Listening) {
      lastTranscript = transcript;
      (0, _reactDecorators.RetrieveInterfaces)();
      setListenerState(ListenerStateEnum.Processing);
      setTranscript("");
      GenieInterpreter.nlParser.parse(lastTranscript).then(result => {
        console.log(`parsed result: ${result}`);
        setInterimTranscript("");
        setListenerState(ListenerStateEnum.Idle);
        const genieInterfaces = (0, _reactDecorators.RetrieveInterfaces)();
        const executionResult = (0, _sharedStore.executeGenieCode)(result);
        if (executionResult.success) {
          (0, _sharedStore.displayResult)(executionResult, lastTranscript, result, genieInterfaces);
        }
        _reactDecorators.ClickPoints.splice(0, _reactDecorators.ClickPoints.length);
      });
    }
  }, [transcript]);
  return /*#__PURE__*/_react.default.createElement(_reactNative.View, {
    style: {
      flex: 1
    }
  }, (listenerState === ListenerStateEnum.Listening || listenerState === ListenerStateEnum.Processing) && /*#__PURE__*/_react.default.createElement("div", {
    onMouseDown: handleDown,
    onClick: handleClick,
    style: {
      position: "fixed",
      top: 0,
      left: 0,
      backgroundColor: mouseDown ? "#7f7f7f" : "#cccccc",
      width: "100%",
      height: "100%",
      zIndex: 3,
      opacity: 0.5
    }
  }, listenerState === ListenerStateEnum.Processing && /*#__PURE__*/_react.default.createElement("div", {
    style: {
      position: "absolute",
      top: "50%",
      left: "50%",
      transform: "translate(-50%, -50%)",
      backgroundColor: "#ffffff",
      padding: "10px",
      borderRadius: "10px",
      boxShadow: "0 0 10px #000000"
    }
  }, /*#__PURE__*/_react.default.createElement(_reactNative.ActivityIndicator, {
    size: "large",
    color: "#888888"
  })), props.displayTranscript && /*#__PURE__*/_react.default.createElement("div", {
    style: {
      position: "absolute",
      bottom: "10%",
      left: "50%",
      transform: "translate(-50%, -50%)",
      backgroundColor: "#ffffff",
      padding: "10px",
      borderRadius: "10px",
      boxShadow: "0 0 10px #000000",
      fontSize: "20px"
    }
  }, interimTranscript)), /*#__PURE__*/_react.default.createElement("div", {
    style: {
      position: "fixed",
      bottom: "50px",
      right: "10px",
      zIndex: 4
    }
  }, /*#__PURE__*/_react.default.createElement(_reactNative.TouchableOpacity, {
    onPress: () => {
      if (listenerState === ListenerStateEnum.Idle) {
        setListenerState(ListenerStateEnum.Listening);
      } else if (listenerState === ListenerStateEnum.Listening) {
        setShouldListen(false);
      }
    }
  }, /*#__PURE__*/_react.default.createElement(_reactNative.View, {
    style: {
      width: 50,
      height: 50,
      borderRadius: 25,
      backgroundColor: listenerState === ListenerStateEnum.Listening ? "#0000ff" : "#cccccc",
      justifyContent: "center",
      alignItems: "center"
    }
  }))), /*#__PURE__*/_react.default.createElement(_speechRecognition.SpeechRecognizer, {
    speechStatusCallback: speechStatusCallback,
    speechResultCallback: speechResultCallback,
    shouldListen: shouldListen,
    azureSpeechRegion: props.azureSpeechRegion,
    azureSpeechKey: props.azureSpeechKey
  }), gui, snackbarVisible && /*#__PURE__*/_react.default.createElement(_core.Snackbar, {
    message: voiceMessage.message,
    style: {
      position: "absolute",
      start: 16,
      end: 16,
      bottom: 100,
      backgroundColor: voiceMessage.type === "error" ? "#ff0000" : "#000000"
    }
  }));
};
exports.ModalityProvider = ModalityProvider;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcmVhY3RSZWR1eCIsIl9uYXRpdmUiLCJfc3RhY2siLCJfc3BlZWNoUmVjb2duaXRpb24iLCJfY29yZSIsIl9yZWFjdGdlbmllRHNsIiwiX3JlYWN0RGVjb3JhdG9ycyIsIl9zaGFyZWRTdG9yZSIsIl9yZWFjdE5hdGl2ZSIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIm5vZGVJbnRlcm9wIiwiV2Vha01hcCIsImNhY2hlQmFiZWxJbnRlcm9wIiwiY2FjaGVOb2RlSW50ZXJvcCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY2FjaGUiLCJoYXMiLCJnZXQiLCJuZXdPYmoiLCJoYXNQcm9wZXJ0eURlc2NyaXB0b3IiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlc2MiLCJzZXQiLCJTdGFjayIsImNyZWF0ZVN0YWNrTmF2aWdhdG9yIiwiR2VuaWVJbnRlcnByZXRlciIsImV4cG9ydHMiLCJEZWZhdWx0U2NyZWVuIiwiY2hpbGRyZW4iLCJuYXZpZ2F0aW9uIiwidXNlRWZmZWN0Iiwic2V0T3B0aW9ucyIsImhlYWRlclNob3duIiwiT2JqZWN0SW50ZXJmYWNlU2NyZWVuIiwiZ2VuaWVJbnRlcmZhY2VTdG9yZUVsZW1lbnQiLCJyb3V0ZSIsInRpdGxlIiwicGFyYW1zIiwiY3JlYXRlRWxlbWVudCIsImZ1bmN0aW9uIiwiY2FyZFN0eWxlIiwicHJlc2VudGF0aW9uIiwiYW5pbWF0aW9uRW5hYmxlZCIsImhlYWRlclN0eWxlSW50ZXJwb2xhdG9yIiwiSGVhZGVyU3R5bGVJbnRlcnBvbGF0b3JzIiwiZm9yVUlLaXQiLCJjYXJkU3R5bGVJbnRlcnBvbGF0b3IiLCJDYXJkU3R5bGVJbnRlcnBvbGF0b3JzIiwiZm9ySG9yaXpvbnRhbElPUyIsIkxpc3RlbmVyU3RhdGVFbnVtIiwiTW9kYWxpdHlQcm92aWRlciIsInByb3BzIiwiZXhhbXBsZXMiLCJ1c2VHZW5pZVNlbGVjdG9yIiwidW5kZWZpbmVkIiwic2hhcmVkU3RhdGUiLCJjb25jYXQiLCJuYXZTdGF0ZSIsInVzZVNlbGVjdG9yIiwic3RhdGUiLCJuYXZTdGFjayIsInZvaWNlTWVzc2FnZSIsIm1lc3NhZ2UiLCJzbmFja2JhclZpc2libGUiLCJzZXRTbmFja2JhclZpc2libGUiLCJ1c2VTdGF0ZSIsInNldFRpbWVvdXQiLCJ1c2VNZW1vIiwiZGVzY3JpcHRvcnMiLCJBbGxHZW5pZU9iamVjdHMiLCJwdXNoIiwiQ2xhc3NEZXNjcmlwdG9yIiwiTmxJbnRlcnByZXRlciIsImNvZGV4QXBpS2V5IiwiZXh0cmFQcm9tcHQiLCJjb2RleEFwaUJhc2VVcmwiLCJuYXZpZ2F0aW9uUmVmIiwidXNlTmF2aWdhdGlvbkNvbnRhaW5lclJlZiIsImNvbnNvbGUiLCJsb2ciLCJvYmplY3RWaWV3Q2xhc3NOYW1lIiwiZGlzcGF0Y2giLCJTdGFja0FjdGlvbnMiLCJvYmplY3RDb25zdHJ1Y3RvclBhcmFtcyIsInVpTGlzdCIsImFsbEludGVyZmFjZXMiLCJBbGxHZW5pZU9iamVjdEludGVyZmFjZXMiLCJpbnRlcmZhY2VzU3RvcmVFbGVtZW50IiwiU2NyZWVuIiwibmFtZSIsImNvbXBvbmVudCIsIm9wdGlvbnMiLCJndWkiLCJOYXZpZ2F0aW9uQ29udGFpbmVyIiwicmVmIiwiTmF2aWdhdG9yIiwiaW5pdGlhbFJvdXRlTmFtZSIsImxpc3RlbmVyU3RhdGUiLCJzZXRMaXN0ZW5lclN0YXRlIiwiSWRsZSIsInNob3VsZExpc3RlbiIsInNldFNob3VsZExpc3RlbiIsInRyYW5zY3JpcHQiLCJzZXRUcmFuc2NyaXB0IiwiaW50ZXJpbVRyYW5zY3JpcHQiLCJzZXRJbnRlcmltVHJhbnNjcmlwdCIsIm1vdXNlRG93biIsInNldE1vdXNlRG93biIsIkxpc3RlbmluZyIsImhhbmRsZUNsaWNrIiwiZXZlbnQiLCJ4IiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwiQ2xpY2tQb2ludHMiLCJoYW5kbGVEb3duIiwic3BlZWNoU3RhdHVzQ2FsbGJhY2siLCJzdGF0dXMiLCJzcGVlY2hSZXN1bHRDYWxsYmFjayIsImZpbmFsVHJhbnNjcmlwdCIsImxhc3RUcmFuc2NyaXB0IiwiUmV0cmlldmVJbnRlcmZhY2VzIiwiUHJvY2Vzc2luZyIsIm5sUGFyc2VyIiwicGFyc2UiLCJ0aGVuIiwicmVzdWx0IiwiZ2VuaWVJbnRlcmZhY2VzIiwiZXhlY3V0aW9uUmVzdWx0IiwiZXhlY3V0ZUdlbmllQ29kZSIsInN1Y2Nlc3MiLCJkaXNwbGF5UmVzdWx0Iiwic3BsaWNlIiwibGVuZ3RoIiwiVmlldyIsInN0eWxlIiwiZmxleCIsIm9uTW91c2VEb3duIiwib25DbGljayIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsImJhY2tncm91bmRDb2xvciIsIndpZHRoIiwiaGVpZ2h0IiwiekluZGV4Iiwib3BhY2l0eSIsInRyYW5zZm9ybSIsInBhZGRpbmciLCJib3JkZXJSYWRpdXMiLCJib3hTaGFkb3ciLCJBY3Rpdml0eUluZGljYXRvciIsInNpemUiLCJjb2xvciIsImRpc3BsYXlUcmFuc2NyaXB0IiwiYm90dG9tIiwiZm9udFNpemUiLCJyaWdodCIsIlRvdWNoYWJsZU9wYWNpdHkiLCJvblByZXNzIiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwiU3BlZWNoUmVjb2duaXplciIsImF6dXJlU3BlZWNoUmVnaW9uIiwiYXp1cmVTcGVlY2hLZXkiLCJTbmFja2JhciIsInN0YXJ0IiwiZW5kIiwidHlwZSJdLCJzb3VyY2VzIjpbIi4uL3NyYy9tb2RhbGl0eS1wcm92aWRlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQge1xuICBOYXZpZ2F0aW9uQ29udGFpbmVyLFxuICBTdGFja0FjdGlvbnMsXG4gIHVzZU5hdmlnYXRpb25Db250YWluZXJSZWYsXG59IGZyb20gXCJAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmVcIjtcbmltcG9ydCB7XG4gIENhcmRTdHlsZUludGVycG9sYXRvcnMsXG4gIGNyZWF0ZVN0YWNrTmF2aWdhdG9yLFxuICBIZWFkZXJTdHlsZUludGVycG9sYXRvcnMsXG4gIFN0YWNrTmF2aWdhdGlvbk9wdGlvbnMsXG59IGZyb20gXCJAcmVhY3QtbmF2aWdhdGlvbi9zdGFja1wiO1xuaW1wb3J0IHsgU3BlZWNoUmVjb2duaXplciB9IGZyb20gXCIuL3NwZWVjaC1yZWNvZ25pdGlvblwiO1xuaW1wb3J0IHsgU25hY2tiYXIgfSBmcm9tIFwiQHJlYWN0LW5hdGl2ZS1tYXRlcmlhbC9jb3JlXCI7XG5cbmltcG9ydCB7XG4gIE5sSW50ZXJwcmV0ZXIsXG4gIENsYXNzRGVzY3JpcHRvcixcbiAgRXhhbXBsZVBhcnNlLFxuICBHZW5pZU9iamVjdCxcbiAgc2hhcmVkU3RhdGUsXG59IGZyb20gXCJyZWFjdGdlbmllLWRzbFwiO1xuaW1wb3J0IHtcbiAgQWxsR2VuaWVPYmplY3RJbnRlcmZhY2VzLFxuICBBbGxHZW5pZU9iamVjdHMsXG4gIENsaWNrUG9pbnRzLFxuICBHZW5pZUludGVyZmFjZVN0b3JlRWxlbWVudCxcbiAgUmV0cmlldmVJbnRlcmZhY2VzLFxufSBmcm9tIFwiLi9yZWFjdC1kZWNvcmF0b3JzXCI7XG5pbXBvcnQge1xuICBkaXNwbGF5UmVzdWx0LFxuICBleGVjdXRlR2VuaWVDb2RlLFxuICBOYXZpZ2F0b3JTdGF0ZSxcbiAgdXNlR2VuaWVTZWxlY3Rvcixcbn0gZnJvbSBcIi4vc2hhcmVkLXN0b3JlXCI7XG5pbXBvcnQgeyBBY3Rpdml0eUluZGljYXRvciwgSW1hZ2UsIFRvdWNoYWJsZU9wYWNpdHksIFZpZXcgfSBmcm9tIFwicmVhY3QtbmF0aXZlXCI7XG5cbmNvbnN0IFN0YWNrID0gY3JlYXRlU3RhY2tOYXZpZ2F0b3IoKTtcbmV4cG9ydCBsZXQgR2VuaWVJbnRlcnByZXRlcjogTmxJbnRlcnByZXRlcjtcblxuY29uc3QgRGVmYXVsdFNjcmVlbiA9XG4gIChjaGlsZHJlbikgPT5cbiAgKHsgbmF2aWdhdGlvbiB9KSA9PiB7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIG5hdmlnYXRpb24uc2V0T3B0aW9ucyh7IGhlYWRlclNob3duOiBmYWxzZSB9KTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9O1xuXG5jb25zdCBPYmplY3RJbnRlcmZhY2VTY3JlZW4gPVxuICAoZ2VuaWVJbnRlcmZhY2VTdG9yZUVsZW1lbnQ6IEdlbmllSW50ZXJmYWNlU3RvcmVFbGVtZW50KSA9PlxuICAoeyByb3V0ZSwgbmF2aWdhdGlvbiB9KSA9PiB7XG4gICAgY29uc3QgdGl0bGUgPSBnZW5pZUludGVyZmFjZVN0b3JlRWxlbWVudC50aXRsZShyb3V0ZS5wYXJhbXMpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBuYXZpZ2F0aW9uLnNldE9wdGlvbnMoeyBoZWFkZXJTaG93bjogdHJ1ZSB9KTtcbiAgICAgIG5hdmlnYXRpb24uc2V0T3B0aW9ucyh7IHRpdGxlOiB0aXRsZSB9KTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIDxnZW5pZUludGVyZmFjZVN0b3JlRWxlbWVudC5mdW5jdGlvbiB7Li4ucm91dGUucGFyYW1zfSAvPjtcbiAgfTtcblxuY29uc3QgY2FyZFN0eWxlOiBTdGFja05hdmlnYXRpb25PcHRpb25zID0ge1xuICBwcmVzZW50YXRpb246IFwiY2FyZFwiLFxuICBhbmltYXRpb25FbmFibGVkOiB0cnVlLFxuICBoZWFkZXJTdHlsZUludGVycG9sYXRvcjogSGVhZGVyU3R5bGVJbnRlcnBvbGF0b3JzLmZvclVJS2l0LFxuICBjYXJkU3R5bGVJbnRlcnBvbGF0b3I6IENhcmRTdHlsZUludGVycG9sYXRvcnMuZm9ySG9yaXpvbnRhbElPUyxcbn07XG5cbmV4cG9ydCBjb25zdCBlbnVtIExpc3RlbmVyU3RhdGVFbnVtIHtcbiAgSWRsZSxcbiAgTGlzdGVuaW5nLFxuICBQcm9jZXNzaW5nLFxuICAvLyBEb25lLFxufVxuXG5leHBvcnQgY29uc3QgTW9kYWxpdHlQcm92aWRlciA9IChwcm9wczoge1xuICBleGFtcGxlcz86IEV4YW1wbGVQYXJzZVtdO1xuICBjb2RleEFwaUtleTogc3RyaW5nO1xuICBjb2RleEFwaUJhc2VVcmw6IHN0cmluZztcbiAgYXp1cmVTcGVlY2hSZWdpb246IHN0cmluZztcbiAgYXp1cmVTcGVlY2hLZXk6IHN0cmluZztcbiAgZGlzcGxheVRyYW5zY3JpcHQ6IGJvb2xlYW47XG4gIGV4dHJhUHJvbXB0OiBzdHJpbmc7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdEVsZW1lbnRbXSB8IFJlYWN0LlJlYWN0RWxlbWVudDtcbn0pID0+IHtcbiAgY29uc3QgZXhhbXBsZXMgPSB1c2VHZW5pZVNlbGVjdG9yKCgpID0+IHtcbiAgICBpZiAocHJvcHMuZXhhbXBsZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHNoYXJlZFN0YXRlW1wiX19FWEFNUExFU19fXCJdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcHJvcHMuZXhhbXBsZXMuY29uY2F0KHNoYXJlZFN0YXRlW1wiX19FWEFNUExFU19fXCJdKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IG5hdlN0YXRlOiBOYXZpZ2F0b3JTdGF0ZSA9IHVzZVNlbGVjdG9yKChzdGF0ZTogYW55KSA9PiB7XG4gICAgcmV0dXJuIHN0YXRlLm5hdlN0YXRlO1xuICB9KTtcblxuICBjb25zdCBuYXZTdGFjayA9IHVzZVNlbGVjdG9yKChzdGF0ZTogYW55KSA9PiB7XG4gICAgcmV0dXJuIHN0YXRlLm5hdlN0YWNrO1xuICB9KTtcblxuICBjb25zdCB2b2ljZU1lc3NhZ2UgPSB1c2VTZWxlY3Rvcigoc3RhdGU6IGFueSkgPT4ge1xuICAgIHJldHVybiBzdGF0ZS5tZXNzYWdlO1xuICB9KTtcblxuICBjb25zdCBbc25hY2tiYXJWaXNpYmxlLCBzZXRTbmFja2JhclZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKFxuICAgICAgdm9pY2VNZXNzYWdlICE9PSBudWxsICYmXG4gICAgICB2b2ljZU1lc3NhZ2UgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgdm9pY2VNZXNzYWdlLm1lc3NhZ2UgIT0gXCJcIlxuICAgICkge1xuICAgICAgc2V0U25hY2tiYXJWaXNpYmxlKHRydWUpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNldFNuYWNrYmFyVmlzaWJsZShmYWxzZSk7XG4gICAgICB9LCAzMDAwKTtcbiAgICB9XG4gIH0sIFt2b2ljZU1lc3NhZ2VdKTtcblxuICBHZW5pZUludGVycHJldGVyID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZGVzY3JpcHRvcnM6IENsYXNzRGVzY3JpcHRvcjxHZW5pZU9iamVjdD5bXSA9IFtdO1xuICAgIGZvciAoY29uc3Qga2V5IGluIEFsbEdlbmllT2JqZWN0cykge1xuICAgICAgZGVzY3JpcHRvcnMucHVzaChBbGxHZW5pZU9iamVjdHNba2V5XS5DbGFzc0Rlc2NyaXB0b3IpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE5sSW50ZXJwcmV0ZXIoXG4gICAgICBkZXNjcmlwdG9ycyxcbiAgICAgIHByb3BzLmNvZGV4QXBpS2V5LFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgZXhhbXBsZXMsXG4gICAgICBwcm9wcy5leHRyYVByb21wdCxcbiAgICAgIHByb3BzLmNvZGV4QXBpQmFzZVVybFxuICAgICk7XG4gIH0sIFtwcm9wcy5jb2RleEFwaUtleSwgZXhhbXBsZXNdKTtcblxuICAvL2NyZWF0ZSByZWYgdG8gTmF2aWdhdGlvbkNvbnRhaW5lciB3aXRoIHR5cGVcbiAgY29uc3QgbmF2aWdhdGlvblJlZiA9IHVzZU5hdmlnYXRpb25Db250YWluZXJSZWYoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwibmF2IHN0YXRlIGNoYW5nZWRcIiwgbmF2U3RhdGUpO1xuICAgIGlmIChuYXZTdGF0ZS5vYmplY3RWaWV3Q2xhc3NOYW1lICE9PSBudWxsKSB7XG4gICAgICBuYXZpZ2F0aW9uUmVmLmRpc3BhdGNoKFxuICAgICAgICBTdGFja0FjdGlvbnMucHVzaChcbiAgICAgICAgICBuYXZTdGF0ZS5vYmplY3RWaWV3Q2xhc3NOYW1lLFxuICAgICAgICAgIG5hdlN0YXRlLm9iamVjdENvbnN0cnVjdG9yUGFyYW1zXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9LCBbbmF2U3RhY2tdKTtcblxuICBjb25zdCB1aUxpc3QgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCB1aUxpc3QgPSBbXTtcbiAgICBjb25zdCBhbGxJbnRlcmZhY2VzID0gQWxsR2VuaWVPYmplY3RJbnRlcmZhY2VzLmFsbEludGVyZmFjZXMoKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhbGxJbnRlcmZhY2VzKSB7XG4gICAgICBjb25zdCBpbnRlcmZhY2VzU3RvcmVFbGVtZW50ID0gYWxsSW50ZXJmYWNlc1trZXldO1xuICAgICAgdWlMaXN0LnB1c2goXG4gICAgICAgIDxTdGFjay5TY3JlZW5cbiAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICBuYW1lPXtrZXl9XG4gICAgICAgICAgY29tcG9uZW50PXtPYmplY3RJbnRlcmZhY2VTY3JlZW4oaW50ZXJmYWNlc1N0b3JlRWxlbWVudCl9XG4gICAgICAgICAgb3B0aW9ucz17Y2FyZFN0eWxlfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHVpTGlzdDtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGd1aSA9IHVzZU1lbW8oXG4gICAgKCkgPT4gKFxuICAgICAgPE5hdmlnYXRpb25Db250YWluZXIgcmVmPXtuYXZpZ2F0aW9uUmVmfT5cbiAgICAgICAgPFN0YWNrLk5hdmlnYXRvciBpbml0aWFsUm91dGVOYW1lPXtcIkRlZmF1bHQgR1VJXCJ9PlxuICAgICAgICAgIDxTdGFjay5TY3JlZW5cbiAgICAgICAgICAgIG5hbWU9e1wiRGVmYXVsdCBHVUlcIn1cbiAgICAgICAgICAgIGtleT17XCJEZWZhdWx0IEdVSVwifVxuICAgICAgICAgICAgY29tcG9uZW50PXtEZWZhdWx0U2NyZWVuKHByb3BzLmNoaWxkcmVuKX1cbiAgICAgICAgICAgIG9wdGlvbnM9e2NhcmRTdHlsZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIHt1aUxpc3R9XG4gICAgICAgIDwvU3RhY2suTmF2aWdhdG9yPlxuICAgICAgPC9OYXZpZ2F0aW9uQ29udGFpbmVyPlxuICAgICksXG4gICAgW11cbiAgKTtcblxuICBjb25zdCBbbGlzdGVuZXJTdGF0ZSwgc2V0TGlzdGVuZXJTdGF0ZV0gPSB1c2VTdGF0ZShMaXN0ZW5lclN0YXRlRW51bS5JZGxlKTtcbiAgY29uc3QgW3Nob3VsZExpc3Rlbiwgc2V0U2hvdWxkTGlzdGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3RyYW5zY3JpcHQsIHNldFRyYW5zY3JpcHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtpbnRlcmltVHJhbnNjcmlwdCwgc2V0SW50ZXJpbVRyYW5zY3JpcHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFttb3VzZURvd24sIHNldE1vdXNlRG93bl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcImxpc3RlbmVyIHN0YXRlIGNoYW5nZWRcIiwgbGlzdGVuZXJTdGF0ZSk7XG4gICAgc2V0U2hvdWxkTGlzdGVuKGxpc3RlbmVyU3RhdGUgPT09IExpc3RlbmVyU3RhdGVFbnVtLkxpc3RlbmluZyk7XG4gIH0sIFtsaXN0ZW5lclN0YXRlXSk7XG5cbiAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICBpZiAobGlzdGVuZXJTdGF0ZSA9PT0gTGlzdGVuZXJTdGF0ZUVudW0uTGlzdGVuaW5nKSB7XG4gICAgICBjb25zdCB4ID0gZXZlbnQuY2xpZW50WDtcbiAgICAgIGNvbnN0IHkgPSBldmVudC5jbGllbnRZO1xuICAgICAgY29uc29sZS5sb2coYENsaWNrIHBvc2l0aW9uOiAoJHt4fSwgJHt5fSlgKTtcbiAgICAgIENsaWNrUG9pbnRzLnB1c2goeyB4OiB4LCB5OiB5IH0pO1xuICAgIH1cbiAgICBzZXRNb3VzZURvd24oZmFsc2UpO1xuICB9O1xuICBjb25zdCBoYW5kbGVEb3duID0gKCkgPT4ge1xuICAgIHNldE1vdXNlRG93bih0cnVlKTtcbiAgfTtcblxuICBjb25zdCBzcGVlY2hTdGF0dXNDYWxsYmFjayA9IChzdGF0dXMsIGludGVyaW1UcmFuc2NyaXB0KSA9PiB7XG4gICAgaWYgKGxpc3RlbmVyU3RhdGUgPT09IExpc3RlbmVyU3RhdGVFbnVtLkxpc3RlbmluZykge1xuICAgICAgY29uc29sZS5sb2coYFNwZWVjaCBzdGF0dXM6ICR7c3RhdHVzfWApO1xuICAgICAgaWYgKHN0YXR1cyA9PSB0cnVlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBJbnRlcmltIHRyYW5zY3JpcHQ6ICR7aW50ZXJpbVRyYW5zY3JpcHR9YCk7XG4gICAgICAgIHNldEludGVyaW1UcmFuc2NyaXB0KGludGVyaW1UcmFuc2NyaXB0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHNwZWVjaFJlc3VsdENhbGxiYWNrID0gKGZpbmFsVHJhbnNjcmlwdCkgPT4ge1xuICAgIGlmIChsaXN0ZW5lclN0YXRlID09PSBMaXN0ZW5lclN0YXRlRW51bS5MaXN0ZW5pbmcpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBGaW5hbCB0cmFuc2NyaXB0OiAke2ZpbmFsVHJhbnNjcmlwdH1gKTtcbiAgICAgIHNldEludGVyaW1UcmFuc2NyaXB0KGZpbmFsVHJhbnNjcmlwdCk7XG4gICAgICBzZXRUcmFuc2NyaXB0KGZpbmFsVHJhbnNjcmlwdCk7XG4gICAgfVxuICB9O1xuXG4gIGxldCBsYXN0VHJhbnNjcmlwdCA9IFwiXCI7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHJhbnNjcmlwdCAhPT0gXCJcIiAmJiBsaXN0ZW5lclN0YXRlID09PSBMaXN0ZW5lclN0YXRlRW51bS5MaXN0ZW5pbmcpIHtcbiAgICAgIGxhc3RUcmFuc2NyaXB0ID0gdHJhbnNjcmlwdDtcbiAgICAgIFJldHJpZXZlSW50ZXJmYWNlcygpO1xuICAgICAgc2V0TGlzdGVuZXJTdGF0ZShMaXN0ZW5lclN0YXRlRW51bS5Qcm9jZXNzaW5nKTtcbiAgICAgIHNldFRyYW5zY3JpcHQoXCJcIik7XG4gICAgICBHZW5pZUludGVycHJldGVyLm5sUGFyc2VyLnBhcnNlKGxhc3RUcmFuc2NyaXB0KS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYHBhcnNlZCByZXN1bHQ6ICR7cmVzdWx0fWApO1xuICAgICAgICBzZXRJbnRlcmltVHJhbnNjcmlwdChcIlwiKTtcbiAgICAgICAgc2V0TGlzdGVuZXJTdGF0ZShMaXN0ZW5lclN0YXRlRW51bS5JZGxlKTtcbiAgICAgICAgY29uc3QgZ2VuaWVJbnRlcmZhY2VzID0gUmV0cmlldmVJbnRlcmZhY2VzKCk7XG4gICAgICAgIGNvbnN0IGV4ZWN1dGlvblJlc3VsdCA9IGV4ZWN1dGVHZW5pZUNvZGUocmVzdWx0KTtcblxuICAgICAgICBpZiAoZXhlY3V0aW9uUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBkaXNwbGF5UmVzdWx0KFxuICAgICAgICAgICAgZXhlY3V0aW9uUmVzdWx0LFxuICAgICAgICAgICAgbGFzdFRyYW5zY3JpcHQsXG4gICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICBnZW5pZUludGVyZmFjZXNcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIENsaWNrUG9pbnRzLnNwbGljZSgwLCBDbGlja1BvaW50cy5sZW5ndGgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdHJhbnNjcmlwdF0pO1xuXG4gIHJldHVybiAoXG4gICAgPFZpZXcgc3R5bGU9e3sgZmxleDogMSB9fT5cbiAgICAgIHsobGlzdGVuZXJTdGF0ZSA9PT0gTGlzdGVuZXJTdGF0ZUVudW0uTGlzdGVuaW5nIHx8XG4gICAgICAgIGxpc3RlbmVyU3RhdGUgPT09IExpc3RlbmVyU3RhdGVFbnVtLlByb2Nlc3NpbmcpICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIG9uTW91c2VEb3duPXtoYW5kbGVEb3dufVxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogbW91c2VEb3duID8gXCIjN2Y3ZjdmXCIgOiBcIiNjY2NjY2NcIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICB6SW5kZXg6IDMsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjUsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHtsaXN0ZW5lclN0YXRlID09PSBMaXN0ZW5lclN0YXRlRW51bS5Qcm9jZXNzaW5nICYmIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgIHRvcDogXCI1MCVcIixcbiAgICAgICAgICAgICAgICBsZWZ0OiBcIjUwJVwiLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoLTUwJSwgLTUwJSlcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmZmZmZlwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBcIjAgMCAxMHB4ICMwMDAwMDBcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEFjdGl2aXR5SW5kaWNhdG9yIHNpemU9XCJsYXJnZVwiIGNvbG9yPVwiIzg4ODg4OFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHsvKmRyYXcgdHJhbnNjcmlwdCBhdCB0aGUgYm90dG9tIGNlbnRlciBvZiB0aGUgcGFnZSwgbGlrZSBhIHN1YnRpdGxlKi99XG4gICAgICAgICAge3Byb3BzLmRpc3BsYXlUcmFuc2NyaXB0ICYmIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogXCIxMCVcIixcbiAgICAgICAgICAgICAgICBsZWZ0OiBcIjUwJVwiLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoLTUwJSwgLTUwJSlcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmZmZmZlwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBcIjAgMCAxMHB4ICMwMDAwMDBcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIyMHB4XCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpbnRlcmltVHJhbnNjcmlwdH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIDxkaXZcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgICAgIGJvdHRvbTogXCI1MHB4XCIsXG4gICAgICAgICAgcmlnaHQ6IFwiMTBweFwiLFxuICAgICAgICAgIHpJbmRleDogNCxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPFRvdWNoYWJsZU9wYWNpdHlcbiAgICAgICAgICBvblByZXNzPXsoKSA9PiB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJTdGF0ZSA9PT0gTGlzdGVuZXJTdGF0ZUVudW0uSWRsZSkge1xuICAgICAgICAgICAgICBzZXRMaXN0ZW5lclN0YXRlKExpc3RlbmVyU3RhdGVFbnVtLkxpc3RlbmluZyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpc3RlbmVyU3RhdGUgPT09IExpc3RlbmVyU3RhdGVFbnVtLkxpc3RlbmluZykge1xuICAgICAgICAgICAgICBzZXRTaG91bGRMaXN0ZW4oZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgd2lkdGg6IDUwLFxuICAgICAgICAgICAgICBoZWlnaHQ6IDUwLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDI1LFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJTdGF0ZSA9PT0gTGlzdGVuZXJTdGF0ZUVudW0uTGlzdGVuaW5nXG4gICAgICAgICAgICAgICAgICA/IFwiIzAwMDBmZlwiXG4gICAgICAgICAgICAgICAgICA6IFwiI2NjY2NjY1wiLFxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgey8qPEltYWdlIHNvdXJjZT17cmVxdWlyZShcIi4vaW1nL21pY3JvcGhvbmUucG5nXCIpfT48L0ltYWdlPiovfVxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgPC9Ub3VjaGFibGVPcGFjaXR5PlxuICAgICAgPC9kaXY+XG4gICAgICA8U3BlZWNoUmVjb2duaXplclxuICAgICAgICBzcGVlY2hTdGF0dXNDYWxsYmFjaz17c3BlZWNoU3RhdHVzQ2FsbGJhY2t9XG4gICAgICAgIHNwZWVjaFJlc3VsdENhbGxiYWNrPXtzcGVlY2hSZXN1bHRDYWxsYmFja31cbiAgICAgICAgc2hvdWxkTGlzdGVuPXtzaG91bGRMaXN0ZW59XG4gICAgICAgIGF6dXJlU3BlZWNoUmVnaW9uPXtwcm9wcy5henVyZVNwZWVjaFJlZ2lvbn1cbiAgICAgICAgYXp1cmVTcGVlY2hLZXk9e3Byb3BzLmF6dXJlU3BlZWNoS2V5fVxuICAgICAgLz5cbiAgICAgIHtndWl9XG4gICAgICB7c25hY2tiYXJWaXNpYmxlICYmIChcbiAgICAgICAgPFNuYWNrYmFyXG4gICAgICAgICAgbWVzc2FnZT17dm9pY2VNZXNzYWdlLm1lc3NhZ2V9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICBzdGFydDogMTYsXG4gICAgICAgICAgICBlbmQ6IDE2LFxuICAgICAgICAgICAgYm90dG9tOiAxMDAsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6XG4gICAgICAgICAgICAgIHZvaWNlTWVzc2FnZS50eXBlID09PSBcImVycm9yXCIgPyBcIiNmZjAwMDBcIiA6IFwiIzAwMDAwMFwiLFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvVmlldz5cbiAgKTtcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFdBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLE9BQUEsR0FBQUYsT0FBQTtBQUtBLElBQUFHLE1BQUEs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